<div class="avis-container" *ngFor="let avis of avisList; let i = index">
  <div class="testimonial-card">
    <div class="testimonial-header">
      <img
        [src]="avis.photo"
        alt="{{ avis.name }}"
        class="testimonial-photo"
        loading="lazy"
      />
      <div class="testimonial-content">
        <h3>{{ avis.name }}</h3>
        <p>{{ avis.title }}</p>
      </div>
    </div>
    <p
      class="testimonial-feedback"
      #feedbackElement
      [class.expanded]="avis.expanded"
    >
      {{ avis.feedback }}
    </p>
    <span
      *ngIf="avis.showToggle && avis.feedback"
      class="toggle-text"
      (click)="toggleExpand(avis, i)"
    >
      <i>{{ avis.expanded ? "Voir moins" : "Voir plus" }}</i>
    </span>
  </div>
</div>
